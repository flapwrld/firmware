# Дизайн интерфейса HAKLES

## Обзор

Интерфейс HAKLES выполнен в минималистичном стиле с акцентом на функциональность и читаемость на монохромном OLED дисплее 128x64.

## Основные элементы дизайна

### Цветовая схема
- Монохромный дисплей (черный/белый)
- Инверсия цветов для выделения активных элементов
- Закругленные углы для современного вида

### Типографика
- Стандартный шрифт 6x8 пикселей
- Центрированный текст для заголовков
- Компактное расположение для максимального использования пространства

## Экраны

### 1. Стартовый экран (StartupScreen)

**Элементы:**
- Логотип в рамке с закругленными углами (60x30px)
- Название "HAKLES" по центру
- Подзаголовок "Security Device"
- Анимированный прогресс-бар (80x6px)
- Пульсирующая точка-индикатор

**Анимация:**
- Прогресс-бар заполняется за 2 секунды
- Точка мигает каждые 500мс
- Автоматический переход в меню по нажатию OK

**Код:**
```cpp
// Закругленная рамка логотипа
display->fillRoundRect(34, 10, 60, 30, 8, 1);
display->fillRoundRect(36, 12, 56, 26, 6, 0);

// Прогресс-бар
display->drawProgressBar(24, 54, 80, 6, progress);
```

### 2. Главное меню (MenuApplication)

**Элементы:**
- Статус-бар (128x11px) с инверсией цветов
  - Название "MENU" слева
  - Время справа (12:34)
- Разделительная линия
- Карточки приложений (124x11px каждая)
  - Иконка 8x8px слева
  - Название приложения
  - Стрелка справа для выбранного элемента
- Индикатор прокрутки справа

**Дизайн карточек:**
- Выбранная: заполненная с закругленными углами, инверсия текста
- Невыбранная: контур с закругленными углами

**Навигация:**
- UP/DOWN: прокрутка списка
- OK: запуск приложения
- Автоматический пропуск "Startup Screen"

**Код:**
```cpp
// Статус-бар
display->fillRect(0, 0, 128, 11, 1);
display->setTextColor(0, 1);
display->drawString(2, 2, "MENU");

// Выбранная карточка
display->fillRoundRect(2, yPos, 124, 11, 3, 1);
display->setTextColor(0, 1);

// Невыбранная карточка
display->drawRoundRect(2, yPos, 124, 11, 3, 1);
display->setTextColor(1, 0);
```

## Новые функции Display

### drawRoundRect / fillRoundRect
Рисование прямоугольников с закругленными углами для современного вида.

```cpp
void drawRoundRect(int16_t x, int16_t y, int16_t w, int16_t h, int16_t r, uint16_t color);
void fillRoundRect(int16_t x, int16_t y, int16_t w, int16_t h, int16_t r, uint16_t color);
```

### drawCenteredString
Автоматическое центрирование текста по горизонтали.

```cpp
void drawCenteredString(int16_t y, const char* text);
void drawCenteredString(int16_t y, String text);
```

### drawProgressBar
Рисование прогресс-бара с закругленными углами.

```cpp
void drawProgressBar(int16_t x, int16_t y, int16_t w, int16_t h, uint8_t progress);
```

### setTextSize
Изменение размера текста (1-4).

```cpp
void setTextSize(uint8_t size);
```

## Принципы дизайна

### 1. Минимализм
- Только необходимые элементы
- Чистое пространство между элементами
- Отсутствие лишних украшений

### 2. Читаемость
- Контрастные элементы
- Достаточный размер шрифта
- Четкие границы между элементами

### 3. Современность
- Закругленные углы вместо острых
- Карточный дизайн для списков
- Плавные анимации

### 4. Функциональность
- Быстрая навигация
- Визуальная обратная связь
- Интуитивное управление

## Размеры и отступы

### Стандартные размеры
- Высота статус-бара: 11px
- Высота карточки меню: 11px
- Отступ между карточками: 2px
- Радиус закругления: 3px (карточки), 8px (логотип)
- Размер иконки: 8x8px

### Отступы
- Левый отступ карточки: 2px
- Правый отступ карточки: 2px
- Отступ иконки от края: 4px
- Отступ текста от иконки: 6px

## Анимации

### Стартовый экран
- Прогресс-бар: линейное заполнение 0-100% за 2 секунды
- Индикатор: мигание каждые 500мс

### Меню
- Плавная прокрутка при навигации
- Мгновенная смена выделения

## Цветовые состояния

### Нормальное состояние
- Фон: черный (0)
- Текст: белый (1)
- Границы: белые (1)

### Выделенное состояние
- Фон: белый (1)
- Текст: черный (0)
- Границы: белые (1)

### Статус-бар
- Фон: белый (1)
- Текст: черный (0)

## Рекомендации для новых экранов

1. Используйте статус-бар для отображения контекста
2. Применяйте карточный дизайн для списков
3. Используйте закругленные углы (radius 3-8px)
4. Центрируйте заголовки
5. Оставляйте достаточно пространства между элементами
6. Используйте инверсию для выделения
7. Добавляйте визуальную обратную связь на действия

## Примеры использования

### Создание статус-бара
```cpp
display->fillRect(0, 0, 128, 11, 1);
display->setTextColor(0, 1);
display->drawString(2, 2, "APP NAME");
display->drawLine(0, 11, 128, 11, 1);
display->setTextColor(1, 0);
```

### Создание карточки
```cpp
bool isSelected = true;
int yPos = 14;

if (isSelected) {
    display->fillRoundRect(2, yPos, 124, 11, 3, 1);
    display->setTextColor(0, 1);
} else {
    display->drawRoundRect(2, yPos, 124, 11, 3, 1);
    display->setTextColor(1, 0);
}

display->drawBitmap(6, yPos + 2, icon, 8, 8, isSelected ? 0 : 1);
display->drawString(18, yPos + 2, "Item Name");
```

### Создание прогресс-бара
```cpp
display->drawProgressBar(20, 50, 88, 8, 75); // 75% заполнения
```

## Будущие улучшения

1. Добавить больше анимаций переходов
2. Реализовать иконки для всех приложений
3. Добавить индикаторы состояния (WiFi, Bluetooth, батарея)
4. Создать библиотеку UI компонентов
5. Добавить темы оформления
